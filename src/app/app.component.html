<h2>PDF E-SIGNATURE</h2>

<!-- File input to choose a PDF -->
<div class="file-input-container">
  <button (click)="fileInput.click()">Select PDF</button>
  <input type="file" #fileInput accept="application/pdf" (change)="onFileSelected($event)" />
  <button (click)="openSignaturePad()">Sign Here</button>
  <button *ngIf="signatureDataURL" (click)="downloadPdf()">Download PDF</button>
</div>

<!-- PDF Viewer -->
<div id="outerContainer">
  <div class="pdf-container">
    <pdf-viewer [src]="src" [rotation]="0" [original-size]="false" [show-all]="true" [fit-to-page]="false" [zoom]="1"
      [zoom-scale]="'page-width'" [stick-to-page]="false" [render-text]="true" [external-link-target]="'blank'"
      [autoresize]="true" [show-borders]="false">
    </pdf-viewer>

    <!-- Signature Image Over the PDF -->
    <img *ngIf="signatureDataURL" #signatureImage id="signatureImage" [src]="signatureDataURL"
      [style.left.px]="signaturePosition.x" [style.top.px]="signaturePosition.y" class="signature-image"
      (mousedown)="startDrag($event)" />
  </div>
</div>

<!-- Signature Pad Modal -->
<div class="signature-pad-container" *ngIf="showSignaturePad">
  <div class="signature-pad-modal">
    <h3>Sign Here</h3>
    <canvas #signaturePadElement></canvas>
    <div class="signature-pad-buttons">
      <button (click)="clearSignaturePad()">Clear</button>
      <button (click)="saveSignature()">Done</button>
      <button (click)="closeSignaturePad()">Close</button>
    </div>
  </div>
</div>